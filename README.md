# Secretarial Agents

**指針：シンプル／モダン／拡張性高く**

このプロジェクトは、AIエージェント「Secretarial-Agents」の開発リポジトリです。

私たちは「シンプルな構成」「モダンな技術」「高い拡張性」を重視し、すべての設計・実装・運用においてこの3要素を満たすことを目指します。

## 🎉 Phase 1完成：音声AIアシスタント基盤（2025-07-19）

### ✅ 実装完了機能
- **🎤 音声入力**: WebRTC録音 → OpenAI Whisper API → テキスト変換
- **🔊 音声合成**: OpenAI TTS API → 6種類音声選択 → 音声再生
- **🤖 AI対話**: GPT-4.1-mini → 自然な対話応答
- **⚙️ 設定連携**: Supabaseユーザー設定 → 動的STT/TTSモデル選択
- **🔐 認証システム**: AuthContext → セキュアな認証管理
- **🛡️ エラーハンドリング**: 堅牢なフォールバック機能

### 🏆 達成した体験
**完全な音声チャット体験**: 音声入力 → AI応答 → 音声再生の一連の流れが完全動作

### 🚀 次のフェーズ予定
- **Phase 2**: リアルタイム音声キャプチャ
- **Phase 3**: ウェイクワード「ジャーニー」検出
- **Phase 4**: 常時オンマイク・完全音声アシスタント

---

## 概要
AIによる秘書業務やタスク管理、情報収集・整理などを自動化・支援するエージェントを目指します。

---

## モジュール管理
- 本プロジェクトで利用するモジュール（機能単位）とファイル名の一覧は `MODULES.md` にまとめ、随時更新します。
- 各エージェントが使用するモジュールは `AGENTS_MODULES.md` で個々に管理します。

## 環境変数管理
- プロジェクトで利用する環境変数はすべて `.env` ファイルで管理します。

## ファイル設計方針
- **単一責任原則**（Single Responsibility Principle）を厳守し、各ファイルは一つの明確な目的・責任のみを持つように設計します。
- 機能ごとにディレクトリやモジュールを分割し、依存関係を最小化します。
- 拡張・保守が容易な構成を目指します。

今後、このREADMEを随時更新していきます。

---

## エラー記録とナレッジ共有
- 開発中に発生した重要なエラーやトラブル、またその解決策は `ERRORS.md` に記録しています。
- 同じ問題を繰り返さないため、エラー発生時はまず `ERRORS.md` を参照してください。
- 新たな問題や学びがあれば、随時 `ERRORS.md` を更新します。

---

## クロスプラットフォーム対応方針
- デスクトップアプリ（ElectronまたはTauri）とモバイルアプリ（Expo + React Native）を専用アプリとして提供
- 主要なロジック・UIはWeb技術で共通化しつつ、各プラットフォーム固有の機能にも対応

### 想定ディレクトリ構成例
```
Secretarial-Agents/
├── apps/
│   ├── desktop/   # デスクトップアプリ（Electron/Tauri）
│   └── mobile/    # モバイルアプリ（Expo + React Native）
├── packages/
│   ├── core/      # 共通ロジック・型定義など
│   ├── ui/        # 共通UIコンポーネント
│   └── api/       # Supabaseや外部API連携
├── README.md
├── MODULES.md
├── AGENTS_MODULES.md
└── ...
```

## バックエンド
- データベースにはSupabase（PostgreSQL）を採用し、ユーザー情報や予定、タスクなどを管理

---

## AIモデル設定の仕組み・運用

- 設定画面では、用途（対話・音声認識・TTSなど）ごとにmodels.jsonのtagsに基づきモデル選択UIが自動生成されます。
- 各ユーザーの選択内容はSupabaseのuser_ai_settingsテーブルに永続化され、再ログイン時や他端末でも自動復元されます。
- データ取得・保存は専用React hooks（useUserAISettings）で管理し、UIは状態とイベントのみを担当します（単一責任原則の徹底）。
- テーブル設計やRLS運用、UNIQUE制約などの詳細は TABLES.local.md を参照してください。

---

## テスト・運用確認

- 設定画面でモデルを選択し「保存」→ページ再表示で設定が復元されることを確認
- Supabaseのuser_ai_settingsテーブルに1ユーザー1レコードで保存されていること
- テーブル設計や運用ノウハウは TABLES.local.md にまとめています
- 認証・ユーザー管理もSupabaseで実装
- 各種サービスAPIと連携し、AIエージェントのコア機能を実装
- フロントエンド・バックエンド双方からSupabase APIを利用可能
- フロントエンドと連携するREST APIも必要に応じて提供

## 今後のロードマップ・TODOリスト
- 能動的に情報を収集・発信できるAIエージェントを目指す
- 以下のサービス・情報と連携し、予定やタスクを自動で把握・通知
    - カレンダー（Googleカレンダー等）
    - メール（Gmail、その他メールサービス）
    - Slack
    - LINE
- 予定やTodo、リマインダーなどをユーザーに伝える
- その他、秘書業務に役立つ機能を随時追加

---

## 更新履歴
- 2025-07-16: プロジェクトREADME作成
